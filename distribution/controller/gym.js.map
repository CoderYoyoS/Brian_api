{"version":3,"sources":["../../src/controller/gym.js"],"names":["config","db","api","get","req","res","dayPicked","params","pickedDay","find","day","err","gym","send","jsonString","json","JSON","stringify","parse","message","i"],"mappings":";;;;;;AAAA;;AACA;;;;;;kBAEe,gBAAgB;AAAA,QAAdA,MAAc,QAAdA,MAAc;AAAA,QAANC,EAAM,QAANA,EAAM;;AAC3B,QAAIC,MAAM,sBAAV;;AAGA;AACAA,QAAIC,GAAJ,CAAQ,qBAAR,EAA8B,UAASC,GAAT,EAAaC,GAAb,EAAiB;;AAE3C,YAAIC,YAAYF,IAAIG,MAAJ,CAAWC,SAA3B;;AAEA,sBAAIC,IAAJ,CAAS,EAACC,KAAKJ,SAAN,EAAT,EAA2B,UAASK,GAAT,EAAaC,GAAb,EAAiB;AACxC,gBAAGD,GAAH,EAAO;AACHN,oBAAIQ,IAAJ,CAASF,GAAT;AACH;;AAED,gBAAIG,aAAaF,GAAjB;AACA,gBAAIG,OAAOC,KAAKC,SAAL,CAAeH,UAAf,CAAX;AACAC,mBAAOC,KAAKE,KAAL,CAAWH,IAAX,CAAP;;AAEA,gBAAII,UAAU,EAAd;AACA,iBAAI,IAAIC,IAAG,CAAX,EAAcA,IAAE,CAAhB,EAAmBA,GAAnB,EAAuB;AACnBD,2BAAWJ,KAAK,CAAL,EAAQ,OAAR,EAAiBK,CAAjB,IAAsB,IAAjC;AACH;;AAEDf,gBAAIQ,IAAJ,CAASE,KAAK,CAAL,EAAQ,KAAR,IAAgB,iBAAhB,GAAmCI,OAA5C;AACH,SAfD;AAgBH,KApBD;;AAsBA;AACAjB,QAAIC,GAAJ,CAAQ,OAAR,EAAgB,UAACC,GAAD,EAAKC,GAAL,EAAW;AACvBA,YAAIQ,IAAJ,CAAS,oKAAT;AACH,KAFD;;AAIA,WAAOX,GAAP;AACH,C","file":"gym.js","sourcesContent":["import { Router } from 'express';\r\nimport Gym from '../model/gym';\r\n\r\nexport default ({config, db})=>{\r\n    let api = Router();\r\n\r\n\r\n    //route 1 get day for classes\r\n    api.get('/classes/:pickedDay',function(req,res){\r\n\r\n        let dayPicked = req.params.pickedDay;\r\n\r\n        Gym.find({day: dayPicked}, function(err,gym){\r\n            if(err){\r\n                res.send(err);\r\n            }\r\n\r\n            let jsonString = gym;\r\n            let json = JSON.stringify(jsonString);\r\n            json = JSON.parse(json);\r\n\r\n            let message = '';\r\n            for(let i =0; i<4; i++){\r\n                message += json[0]['class'][i] + '\\n';\r\n            }\r\n\r\n            res.send(json[0]['day']+ ' classes are:\\n'+ message);\r\n        });\r\n    });\r\n\r\n    //route 2 get the times\r\n    api.get('/time',(req,res)=>{\r\n        res.send('- Gym Open Hours -\\nMondays 8am-7:30pm\\nTuesdays 8am-7.30pm\\nWednesdays 8am-7:30pm\\nThursdays 8am-7:30pm\\nFridays 8am-7:30pm\\nSaturdays 10am - 2pm\\nSundays Closed');\r\n    });\r\n\r\n    return api;\r\n}"]}